<div class="container my-6">
<h1><a href="/user/profile"><i class="far fa-times-circle"></i></a></h1>
    <h1>Editar perfil</h1>
    <form action="/edit-profile" method="POST" enctype="multipart/form-data">
        <div class="card p-4">
            <div class="row">
                <div class="col-2 gx-5">
                    <img src="{{currentUser.profilePicture}}" class="w-100" id="uploadPreview" alt="profile image">
                    <label for="uploadImage" class="label-file button btn__light"><i class="fas fa-upload"></i> Agregar</label>
                    <input id="uploadImage" type="file" name="profilePicture" class="input-file" onchange="PreviewImage();"/>
                </div>

                <div class="col gx-5">
                    <input type="text" class="input-written {{#if error}}is-invalid{{/if}}" name="name" id="name" value="{{currentUser.name}}" placeholder="name" autofocus>
                    {{#if error}}
                    <div class="invalid-feedback">{{error.name}}</div>
                    {{/if}}
                    <div class="form-check form-switch mt-4">
                            <input name="visibility" class="form-check-input" type="checkbox" id="flexSwitchCheckDefault" {{#if currentUser.visibility}}checked{{/if}}>
                            <label class="form-check-label" for="flexSwitchCheckDefault">Perfil p√∫blico</label>
                    </div>
                </div>

                <div class="col-12 col-sm-auto">
                    <button type="submit" class="button btn__secondary">Actualizar perfil</button>
                </div>
            </div>
        </div>
    </form>
</div>


<script type="text/javascript">
    function PreviewImage() {
        var oFReader = new FileReader()
        oFReader.readAsDataURL(document.getElementById("uploadImage").files[0])
        oFReader.onload = function (oFREvent) {
            document.getElementById("uploadPreview").src = oFREvent.target.result
        }
    }
</script>