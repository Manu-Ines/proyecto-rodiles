<div class="container p-4">
    <div class="row my-5">
        <div class="col">
            <h2>Administrador</h2>
        </div>
        <div class="col d-flex justify-content-end">
            <h2 style="color:#047857;">{{currentUser.name}}</h2>
        </div>
    </div>

    <div class="row my-5">
        <div class="col-2 border-start">
            <a href="#" style="text-decoration: none;">
                <h6 id="btnProjects" class="link__primary">Donaciones</h6>
            </a>
        </div>
        <div class="col border-start">
            <a href="#" style="text-decoration: none;">
                <h6 id="btnVolunts" class="link__primary" style="color: #646e6b">Voluntariados</h6>
            </a>
        </div>
        <hr>
    </div>

    <div id="projectsAdmin">
        <p>{{messageP}}</p>
        {{#each projects as |project|}}
            <div class="card p-3 m-3">
                <div class="row">
                    <div class="col">
                        <h3>{{project.title}}</h3>
                        <p>A recaudar: {{project.sum}}€</p>
                    </div>
                </div>
                {{#each project.donations as |donation|}}

                    {{#if donation.anonymous}}
                        <div class="row">
                            <div class="col">
                                <p>Anonimo</p>
                                {{donation.contribution}}€
                            </div>
                        </div>
                        {{else}}
                        <div class="row">
                            <div class="col">
                                <p>{{donation.donator.name}}</p>
                            </div>
                        </div>
                        {{donation.contribution}}€
                    {{/if}}

                {{/each}}
            </div>
        {{/each}}
    </div>
    <div id="voluntAdmin" style="display: none">
        {{messageV}}
        {{#each volunts as |volunt|}}
        <div class="card p-3 m-3">
            <div class="row">
                <div class="col">
                    <h3>{{volunt.title}}</h3>
                    <p>Voluntarios solicitados: {{volunt.assistants}}</p>
                </div>
                <div class="col d-flex justify-content-end">
                    {{#each volunt.date as |day|}}
                    <h6>{{day.day}}</h6>
                    {{/each}}
                </div>
            </div>
            {{#each volunt.assistance as |user|}}
            <div clas="d-flex flex-row justify-content-start">
                <img src="{{user.assistant.profilePicture}}" height="40px">
                <div>
                    Nombre: {{user.assistant.name}}
                    Email: {{user.assistant.email}}
                </div>
            </div>
            <hr>
            {{/each}}
        </div>
        {{/each}}
    </div>
</div>


<script>

    let project = document.getElementById('projectsAdmin')
    let btnProject = document.getElementById('btnProjects')
    let volunt = document.getElementById('voluntAdmin')
    let btnVolunt = document.getElementById('btnVolunts')

    btnProject.addEventListener('click', function (e) {
        volunt.style.display = 'none'
        project.style.display = 'block'

        btnVolunt.style.fontSize = '16px'
        btnProject.style.fontSize = '20px'
        btnProject.style.color = '#059669'
        btnVolunt.style.color = '#646e6b'
    })

    btnVolunt.addEventListener('click', function (e) {
        volunt.style.display = 'block'
        project.style.display = 'none'

        btnVolunt.style.fontSize = '20px'
        btnProject.style.fontSize = '16px'
        btnProject.style.color = '#646e6b'
        btnVolunt.style.color = '#059669'
    });
</script>